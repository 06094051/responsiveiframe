/*! jQuery ResponsiveIframe - v0.0.2 - 2012-09-28
* https://github.com/npr/responsiveiframe
* Copyright (c) 2012 inadarei; Licensed MIT, GPL */
typeof jQuery!="undefined"&&function(e){var t={xdomain:"*",ie:navigator.userAgent.toLowerCase().indexOf("msie")>-1},n={init:function(){return this.each(function(t){var n=e(this);window.postMessage?window.addEventListener?window.addEventListener("message",function(e){r.messageHandler(n,e)},!1):window.attachEvent&&window.attachEvent("onmessage",function(e){r.messageHandler(n,e)},n):setInterval(function(){var e=window.location.hash,t=e.match(/^#h(\d+)(s?)$/);t&&(r.setHeight(n,t[1]),t[2]==="s"&&scroll(0,0))},150)})}},r={messageHandler:function(e,n){var i,s,o,u;if(t.xdomain!=="*"){var a=new RegExp(t.xdomain+"$"),f=o.length;o=n.origin.match(a)}if(t.xdomain==="*"||o.length===1){u=n.data+"",s=u.match(/^(\d+)(s?)$/);if(s&&s.length===3){i=parseInt(s[1],10);if(!isNaN(i))try{r.setHeight(e,i)}catch(l){}s[2]==="s"&&scroll(0,0)}}},setHeight:function(e,t){e.css("height",t+"px")},getDocHeight:function(){var e=document;return Math.min(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}};e.fn.responsiveIframe=function(r){if(n[r])return n[r].apply(this,Array.prototype.slice.call(arguments,1));if(typeof r=="object"||!r)return e.extend(t,arguments[0]),n.init.apply(this);e.error("Method "+r+" does not exist on jQuery.responsiveIframe")}}(jQuery),function(){function r(){return new n}var e,t,n=function(){e=this};n.prototype.allowResponsiveEmbedding=function(){window.addEventListener("load",e.messageParent,!1),window.addEventListener("resize",e.messageParent,!1)},n.prototype.messageParent=function(e){var t=document.body.offsetHeight;t=e?t+"s":t,top.postMessage?top.postMessage(t,"*"):window.location.hash="h"+t},"undefined"==typeof exports?window.responsiveIframe=r:t.exports.responsiveIframe=r}();